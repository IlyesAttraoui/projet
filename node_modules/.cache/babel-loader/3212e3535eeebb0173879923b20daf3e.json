{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilyes\\\\EasyDoc\\\\src\\\\component\\\\Pres.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Pres.css';\nimport { Link } from \"react-router-dom\";\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport AddIcon from '@material-ui/icons/Add';\nimport Icon from '@material-ui/core/Icon';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Pres(props) {\n  _s();\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/drugs/\").then(res => {\n      return res.json();\n    }).then(data => {\n      setDrugs(data);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/patients/\" + props.match.params.id + \"/\").then(res => {\n      return res.json();\n    }).then(data => {\n      setPosts(data);\n    });\n  }, []);\n  const [inputFields, setInputFields] = useState([{\n    id: uuidv4(),\n    quantity: '',\n    times_per_day: '',\n    drug: ''\n  }]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(\"drugs\", inputFields);\n  };\n\n  const handleChangeInput = (id, event) => {\n    const newInputFields = inputFields.map(i => {\n      if (id === i.id) {\n        i[event.target.name] = event.target.value;\n      }\n\n      return i;\n    });\n    setInputFields(newInputFields);\n  };\n\n  const handleAddFields = () => {\n    setInputFields([...inputFields, {\n      id: uuidv4(),\n      quantity: '',\n      times_per_day: '',\n      drug: ''\n    }]);\n  };\n\n  const handleRemoveFields = id => {\n    const values = [...inputFields];\n    values.splice(values.findIndex(value => value.id === id), 1);\n    setInputFields(values);\n  };\n\n  const [posts, setPosts] = useState([]);\n  const [drugs, setDrugs] = useState([]);\n  const [date, setDate] = useState(new Date().toISOString().split(\"T\")[0]);\n\n  const addC = e => {\n    const url = 'http://127.0.0.1:8000/consultations/';\n    const formData = new FormData();\n    formData.append('date', document.querySelector('#date').value);\n    formData.append('type', document.querySelector('#type').value);\n    formData.append('description', document.querySelector('#description').value);\n    formData.append('outcome', document.querySelector('#outcome').value);\n    formData.append('patient', document.querySelector('#patient').value);\n    axios.post(url, formData).then(resp => {\n      console.log(resp.data);\n      alert('cons add succesfuly');\n    });\n  };\n\n  const dateChangee = e => {\n    setDate(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"PostFormConsG\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hededt\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add consultations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"PostFormmCons\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pste\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"patient\",\n          children: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          children: /*#__PURE__*/_jsxDEV(\"option\", {\n            name: \"patient\",\n            id: \"patient\",\n            value: posts.id,\n            children: [posts.name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pste\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"date\",\n          children: \" date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"date\",\n          name: \"date\",\n          value: date,\n          onChange: dateChangee\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pste\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"type\",\n          children: \" type  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pste\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"description\",\n          children: \" description \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pste\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"outcome\",\n          children: \" outcome  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"outcome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"prescription\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"prescrp\",\n      children: [inputFields.map(inputField => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"qua\",\n          children: \" quantity \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"quantity\",\n          id: \"qua\",\n          value: inputField.quantity,\n          onChange: event => handleChangeInput(inputField.id, event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"ti\",\n          children: \" times_per_day \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"times_per_day\",\n          id: \"ti\",\n          value: inputField.times_per_day,\n          onChange: event => handleChangeInput(inputField.id, event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"dru\",\n          children: \" drug \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          children: drugs.map(drugs => /*#__PURE__*/_jsxDEV(\"option\", {\n            name: \"drug\",\n            id: \"dru\",\n            onChange: event => handleChangeInput(inputField.id, event),\n            value: inputField.drug,\n            children: [\" \", drugs.commercial_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 4\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          disabled: inputFields.length === 1,\n          onClick: () => handleRemoveFields(inputField.id),\n          children: /*#__PURE__*/_jsxDEV(RemoveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleAddFields,\n          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, inputField.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        endIcon: /*#__PURE__*/_jsxDEV(Icon, {\n          children: \"send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 27\n        }, this),\n        onClick: handleSubmit,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addbtn\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: addC,\n        children: \"enregistrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Patient/\" + posts.id,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"btnn\",\n          type: \"button\",\n          children: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Pres, \"hayNRtwZxLUm9kAdbQJ/zW+brNI=\");\n\n_c = Pres;\nexport default Pres;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pres\");","map":{"version":3,"sources":["C:/Users/ilyes/EasyDoc/src/component/Pres.js"],"names":["React","useState","useEffect","axios","Link","Container","TextField","Button","IconButton","RemoveIcon","AddIcon","Icon","v4","uuidv4","Pres","props","fetch","then","res","json","data","setDrugs","match","params","id","setPosts","inputFields","setInputFields","quantity","times_per_day","drug","handleSubmit","e","preventDefault","console","log","handleChangeInput","event","newInputFields","map","i","target","name","value","handleAddFields","handleRemoveFields","values","splice","findIndex","posts","drugs","date","setDate","Date","toISOString","split","addC","url","formData","FormData","append","document","querySelector","post","resp","alert","dateChangee","inputField","commercial_name","length"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport axios from 'axios';\r\nimport './Pres.css'\r\nimport {Link} from \"react-router-dom\"\r\nimport Container from '@material-ui/core/Container';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction Pres (props) {\r\n  useEffect(()=>{\r\n     fetch (\"http://127.0.0.1:8000/drugs/\")\r\n     .then(res => {\r\n         return res.json();\r\n         })\r\n         .then(data=>{\r\n          setDrugs(data);\r\n         });\r\n       },[]);\r\n\r\nuseEffect(()=>{\r\n   fetch (\"http://127.0.0.1:8000/patients/\"+props.match.params.id+\"/\")\r\n   .then(res => {\r\n       return res.json();\r\n       })\r\n       .then(data=>{\r\n        setPosts(data);\r\n       });\r\n     },[]);\r\n\r\n   const [inputFields, setInputFields] = useState([\r\n     { id: uuidv4(), quantity: '', times_per_day: '' ,drug:''},\r\n   ]);\r\n\r\n   const handleSubmit = (e) => {\r\n     e.preventDefault();\r\n     console.log(\"drugs\", inputFields);\r\n   };\r\n\r\n   const handleChangeInput = (id, event) => {\r\n     const newInputFields = inputFields.map(i => {\r\n       if(id === i.id) {\r\n         i[event.target.name] = event.target.value\r\n       }\r\n       return i;\r\n     })\r\n\r\n     setInputFields(newInputFields);\r\n   }\r\n\r\n   const handleAddFields = () => {\r\n     setInputFields([...inputFields, { id: uuidv4(),   quantity: '', times_per_day: '',drug:'' }])\r\n   }\r\n\r\n   const handleRemoveFields = id => {\r\n     const values  = [...inputFields];\r\n     values.splice(values.findIndex(value => value.id === id), 1);\r\n     setInputFields(values);\r\n   }\r\n\r\n\r\nconst [posts, setPosts] = useState([]);\r\nconst [drugs, setDrugs] = useState([]);\r\nconst [date,setDate]=useState(new Date().toISOString().split(\"T\")[0])\r\n\r\n  const addC=(e)=>{\r\n     const url = 'http://127.0.0.1:8000/consultations/'\r\n     const formData = new FormData();\r\n\r\n     formData.append('date', document.querySelector('#date').value);\r\n     formData.append('type', document.querySelector('#type').value);\r\n     formData.append('description', document.querySelector('#description').value);\r\n     formData.append('outcome', document.querySelector('#outcome').value);\r\n     formData.append('patient', document.querySelector('#patient').value);\r\n\r\n\r\n     axios.post(url, formData)\r\n     .then(resp => {\r\n         console.log(resp.data);\r\n         alert('cons add succesfuly')\r\n     });\r\n\r\n\r\n }\r\n\r\n\r\n\r\n  const  dateChangee=(e)=>{\r\n\r\n      setDate(e.target.value)\r\n    }\r\n\r\n\r\nreturn(\r\n\r\n\r\n\r\n<div className='PostFormConsG'>\r\n<div className=\"hededt\">\r\n<h2>Add consultations</h2>\r\n\r\n</div>\r\n<form  className='PostFormmCons' >\r\n<div className='pste' >\r\n<label for='patient'>name</label>\r\n<select>\r\n<option name=\"patient\" id=\"patient\" value={posts.id}>{posts.name} </option>\r\n</select>\r\n\r\n\r\n\r\n</div>\r\n\r\n<div className='pste' >\r\n   <label for='date'> date</label>\r\n  <input  type ='date' id='date'name= 'date'value={date} onChange={dateChangee}/>\r\n    </div>\r\n    <div className='pste' >\r\n    <label for='type'> type  </label>\r\n    <input type='text'id='type' />\r\n    </div>\r\n    <div className='pste' >\r\n     <label for='description'> description </label>\r\n    <textarea  id=\"description\"/>\r\n      </div>\r\n      <div className='pste'><label for='outcome'> outcome  </label>\r\n    <textarea id='outcome' />\r\n   </div>\r\n</form>\r\n<h4>prescription</h4>\r\n<form className='prescrp'>\r\n   { inputFields.map(inputField => (\r\n          <div key={inputField.id}>\r\n          <label for='qua'> quantity </label>\r\n            <input\r\n            type='text'\r\n              name=\"quantity\"\r\n              id='qua'\r\n              value={inputField.quantity}\r\n              onChange={event => handleChangeInput(inputField.id, event)}\r\n            />\r\n            <label for='ti'> times_per_day </label>\r\n            <input\r\n              name=\"times_per_day\"\r\n              id=\"ti\"\r\n\r\n              value={inputField.times_per_day}\r\n              onChange={event => handleChangeInput(inputField.id, event)}\r\n            />\r\n            <label for='dru'> drug </label>\r\n            <select>\r\n          {  drugs.map(drugs=>\r\n   <option   name=\"drug\"\r\n     id=\"dru\"\r\n\r\n\r\n   onChange={event => handleChangeInput(inputField.id, event)}value={inputField.drug}> {drugs.commercial_name}</option>\r\n\r\n          )\r\n            }\r\n            </select>\r\n\r\n            <IconButton disabled={inputFields.length === 1} onClick={() => handleRemoveFields(inputField.id)}>\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              onClick={handleAddFields}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </div>\r\n        )) }\r\n        <Button\r\n\r\n                 type=\"submit\"\r\n                 endIcon={<Icon>send</Icon>}\r\n                 onClick={handleSubmit}\r\n               >Send</Button>\r\n\r\n</form>\r\n<div className=\"addbtn\">\r\n<button type=\"button\" onClick={addC}>enregistrer</button>\r\n<Link to={\"/Patient/\"+posts.id}><button id=\"btnn\" type=\"button\" >cancel</button></Link>\r\n</div>\r\n\r\n</div>\r\n\r\n\r\n)\r\n}\r\nexport default Pres;\r\n"]},"metadata":{},"sourceType":"module"}